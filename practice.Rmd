---
title: "TIL`r format(Sys.Date(), '%Y%m%d')`"
output: html_document
date: "`r Sys.Date()`"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)
pg <- palmerpenguins::penguins
library(tidyverse)
library(caret)
```

## contingency table in R

### manually

```{r}
pg %>% 
  drop_na() %>% 
  group_by(species, sex) %>% 
  tally () %>% 
  pivot_wider(names_from = sex, values_from = n) %>% 
  mutate(female_freq = round(female/(female+male),2),
         male_freq = 1 - female_freq)
```

### rstatix

```{r}
pg %>% 
  drop_na() %>% 
  rstatix::freq_table(species, sex) %>% 
  pivot_wider(names_from = sex, values_from = c(n, prop))
```


