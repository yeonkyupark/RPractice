---
title: "TIL`r format(Sys.Date(), '%Y%m%d')`"
output: html_document
date: "`r Sys.Date()`"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)
pg <- palmerpenguins::penguins
library(tidyverse)
library(caret)
```

## plots in ggplot2

```{r}
df <- data.frame(
  group = rep(LETTERS[1:4], each=25),
  var1 = rnorm(100, 100, 5),
  var2 = rnorm(100, 100, 10),
  var3 = rnorm(100, 100, 15)
); df
```

### geom_boxplot

```{r}
p1 <- df %>% ggplot() +
  geom_boxplot(aes(x = var1))
p2 <- df %>% ggplot() +
  geom_boxplot(aes(y = var1))
gridExtra::grid.arrange(p1, p2, nrow = 1)
```

```{r}
df %>% 
  pivot_longer(cols = c(var1, var2, var3), names_to = "cols", values_to = "value") %>% 
  ggplot(aes(y = value, fill = cols)) +
  geom_boxplot()
```

### geom_histogram

```{r}
p1 <- df %>% 
  ggplot(aes(x = var1)) +
  geom_histogram(bins = 10)
p2 <- df %>% 
  ggplot(aes(y = var1)) +
  geom_histogram(bins = 30)
gridExtra::grid.arrange(p1, p2, nrow = 2)
```

```{r}
p1 <- df %>% 
  pivot_longer(cols = c(var1, var2, var3), names_to = "cols", values_to = "value") %>% 
  ggplot(aes(x = value, fill = cols)) +
  geom_histogram(alpha = 0.5)
p2 <- df %>% 
  pivot_longer(cols = c(var1, var2, var3), names_to = "cols", values_to = "value") %>% 
  ggplot(aes(x = value, fill = cols)) +
  geom_histogram(alpha = 0.5, position = "identity")
gridExtra::grid.arrange(p1, p2, nrow = 2)
```

### geom_point

```{r}
p1 <- df %>% 
  ggplot(aes(x = var1, y = var2)) +
  geom_point(aes(col = group))
p2 <- df %>% 
  ggplot(aes(x = var1, y = var3)) +
  geom_point(aes(col = group))
gridExtra::grid.arrange(p1, p2, nrow = 2)
```

```{r}
df %>% 
  pivot_longer(cols = c(var2, var3), names_to = "cols", values_to = "value") %>% 
  ggplot(aes(x = var1, y = value)) +
  geom_point(aes(col = cols), alpha = 0.5) +
  geom_smooth()
```
### geom_line

```{r}
p1 <- df %>% 
  mutate(var4 = var1+var2+var3) %>% 
  ggplot(aes(x = var1, y = var4)) +
  geom_line()
p2 <- df %>% 
  mutate(var4 = var1+var2+var3) %>% 
  ggplot(aes(x = var1, y = var4)) +
  geom_line(aes(col = group))
gridExtra::grid.arrange(p1, p2, nrow = 2)
```




